import"../chunks/CWj6FrbW.js";import{b as Z,E as H,l as tt,v as C,av as at,h as et,n as rt,M as P,az as st,aA as it,a4 as nt,a6 as ot,aB as vt,aC as ct,P as ut,I as q,J as G,K as ft,p as R,c as k,ay as lt,r as y,s as A,t as J,z as w,an as F,a as B,o as dt,ak as pt,f as L,A as _t,al as mt}from"../chunks/C5RO-5A5.js";import{g as ht,w as kt,e as yt,t as N,s as K,a as S,c as U}from"../chunks/D6srbyFG.js";import{s as V,a as O,i as M}from"../chunks/yFrSbgqD.js";import{p as gt}from"../chunks/BOHu5rfS.js";import{e as wt,s as D,f as bt,g as $t}from"../chunks/Ka8MYxQ7.js";import{u as xt,t as Et,l as Ct}from"../chunks/B_BkXZYI.js";function St(a,t,...n){var e=a,s=C,i;Z(()=>{s!==(s=t())&&(i&&(at(i),i=null),i=tt(()=>s(e,...n)))},H),et&&(e=rt)}const At=()=>performance.now(),g={tick:a=>requestAnimationFrame(a),now:()=>At(),tasks:new Set};function Q(){const a=g.now();g.tasks.forEach(t=>{t.c(a)||(g.tasks.delete(t),t.f())}),g.tasks.size!==0&&g.tick(Q)}function Ft(a){let t;return g.tasks.size===0&&g.tick(Q),{promise:new Promise(n=>{g.tasks.add(t={c:a,f:n})}),abort(){g.tasks.delete(t)}}}function W(a,t){kt(()=>{a.dispatchEvent(new CustomEvent(t))})}function Tt(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const t=a.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function j(a){const t={},n=a.split(";");for(const e of n){const[s,i]=e.split(":");if(!s||i===void 0)break;const u=Tt(s.trim());t[u]=i.trim()}return t}const It=a=>a;function Nt(a,t,n,e){var s=(a&vt)!==0,i="in",u,$=t.inert,p=t.style.overflow,r,m;function b(){var f=ft,d=P;q(null),G(null);try{return u??(u=n()(t,(e==null?void 0:e())??{},{direction:i}))}finally{q(f),G(d)}}var _={is_global:s,in(){t.inert=$,r==null||r.abort(),W(t,"introstart"),r=X(t,b(),m,1,()=>{W(t,"introend"),r==null||r.abort(),r=u=void 0,t.style.overflow=p})},out(f){{f==null||f(),u=void 0;return}},stop:()=>{r==null||r.abort()}},c=P;if((c.transitions??(c.transitions=[])).push(_),ht){var v=s;if(!v){for(var o=c.parent;o&&(o.f&H)!==0;)for(;(o=o.parent)&&(o.f&st)===0;);v=!o||(o.f&it)!==0}v&&nt(()=>{ot(()=>_.in())})}}function X(a,t,n,e,s){if(ct(t)){var i,u=!1;return ut(()=>{if(!u){var o=t({direction:"in"});i=X(a,o,n,e,s)}}),{abort:()=>{u=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(!(t!=null&&t.duration))return s(),{abort:C,deactivate:C,reset:C,t:()=>e};const{delay:$=0,css:p,tick:r,easing:m=It}=t;var b=[];if(r&&r(0,1),p){var _=j(p(0,1));b.push(_,_)}var c=()=>1-e,v=a.animate(b,{duration:$});return v.onfinish=()=>{var o=1-e,f=e-o,d=t.duration*Math.abs(f),l=[];if(d>0){var x=!1;if(p)for(var z=Math.ceil(d/16.666666666666668),h=0;h<=z;h+=1){var T=o+f*m(h/z),I=j(p(T,1-T));l.push(I),x||(x=I.overflow==="hidden")}x&&(a.style.overflow="hidden"),c=()=>{var E=v.currentTime;return o+f*m(E/d)},r&&Ft(()=>{if(v.playState!=="running")return!1;var E=c();return r(E,1-E),!0})}v=a.animate(l,{duration:d,fill:"forwards"}),v.onfinish=()=>{c=()=>e,r==null||r(e,1-e),s()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=C)},deactivate:()=>{s=C},reset:()=>{},t:()=>c()}}var zt=N('<div class="user_chip svelte-48ky9e"><div class="user svelte-48ky9e"><picture class="svelte-48ky9e"><source> <img alt="" class="svelte-48ky9e"></picture> <div class="meta svelte-48ky9e"><div class="name svelte-48ky9e"> </div> <div class="username svelte-48ky9e"> </div></div></div> <i class="f7-icons link hover svelte-48ky9e">arrow_right_to_line_alt</i></div>');function Lt(a,t){R(t,!0);const[n,e]=V(),s=()=>O(xt,"$user",n);let i=F(()=>{var l;return(l=s())==null?void 0:l.name}),u=F(()=>{var l;return(l=s())==null?void 0:l.username}),$=F(()=>{var l;return(l=s())==null?void 0:l.avatar});var p=zt(),r=k(p),m=k(r),b=k(m);lt(2),y(m);var _=A(m,2),c=k(_),v=k(c,!0);y(c);var o=A(c,2),f=k(o);y(o),y(_),y(r);var d=A(r,2);d.__click=function(...l){var x;(x=wt)==null||x.apply(this,l)},y(p),J(()=>{D(b,"srcset",w($)),K(v,w(i)??w(u)),K(f,`@${w(u)??""}`)}),S(a,p),B(),e()}yt(["click"]);var Mt=N('<nav class="svelte-1nrh4te"><div class="brand svelte-1nrh4te">Suru</div> <!></nav>');function Ot(a){var t=Mt(),n=A(k(t),2);Lt(n,{}),y(t),S(a,t)}var Rt=N('<div class="setup_view svelte-f4p8yx"><div class="title svelte-f4p8yx">Suru</div> <div class="subtitle svelte-f4p8yx">Suru is a simple and fast to-do list app.</div> <a class="button link svelte-f4p8yx"><i class="f7-icons svelte-f4p8yx">logo_github</i> Log In with GitHub</a></div>');function Bt(a,t){R(t,!0);const n=F(bt);var e=Rt(),s=A(k(e),4);y(e),J(()=>D(s,"href",w(n))),S(a,e),B()}const Pt=a=>a;function qt(a,{delay:t=0,duration:n=400,easing:e=Pt}={}){const s=+getComputedStyle(a).opacity;return{delay:t,duration:n,easing:e,css:i=>`opacity: ${i*s}`}}var Gt=N('<!> <div class="content svelte-18nrx1r"><!></div>',1),Kt=N('<main class="svelte-18nrx1r"><!></main>');function Qt(a,t){R(t,!0);const[n,e]=V(),s=()=>O(Et,"$token",n),i=()=>O(Ct,"$loggedIn",n);let u=mt(!1);dt(()=>_t(u,!0)),pt(()=>{w(u)&&$t(s())});let $=F(()=>s()?i():!0),p=F(()=>i()||gt.url.pathname.endsWith("/auth"));var r=U(),m=L(r);{var b=_=>{var c=U(),v=L(c);{var o=f=>{var d=Kt(),l=k(d);{var x=h=>{var T=Gt(),I=L(T);Ot(I);var E=A(I,2),Y=k(E);St(Y,()=>t.children??C),y(E),S(h,T)},z=h=>{Bt(h,{})};M(l,h=>{w(p)?h(x):h(z,!1)})}y(d),Nt(1,d,()=>qt,()=>({duration:200})),S(f,d)};M(v,f=>{w($)&&f(o)})}S(_,c)};M(m,_=>{w(u)&&_(b)})}S(a,r),B(),e()}export{Qt as component};
