import{b as w}from"./DpbKtVHr.js";import{B as g,C as J,y as N}from"./C5RO-5A5.js";const b=()=>w.endsWith("/")?w.slice(0,-1):w,O=r=>{let n=r.replace(w,"");if(n==="/")return b();n.startsWith("/")&&(n=n.slice(1));const e=b();return e.endsWith("/")?`${e}${n}`:`${b()}/${n}`},F=(r,n)=>{const e=O(r),i=new URL(e,window.location.origin);return i.pathname=e,i.toString()};var v={local:{},session:{}};function U(r){return r==="local"?localStorage:sessionStorage}function L(r,n,e){var i,_,m,E,p,W,$,y;e!=null&&e.onError&&console.warn("onError has been deprecated. Please use onWriteError instead");const h=(i=e==null?void 0:e.serializer)!=null?i:JSON,a=(_=e==null?void 0:e.storage)!=null?_:"local",P=(m=e==null?void 0:e.syncTabs)!=null?m:!0,R=(p=(E=e==null?void 0:e.onWriteError)!=null?E:e==null?void 0:e.onError)!=null?p:t=>console.error(`Error when writing value from persisted store "${r}" to ${a}`,t),S=(W=e==null?void 0:e.onParseError)!=null?W:(t,s)=>console.error(`Error when parsing ${t?'"'+t+'"':"value"} from persisted store "${r}"`,s),T=($=e==null?void 0:e.beforeRead)!=null?$:t=>t,q=(y=e==null?void 0:e.beforeWrite)!=null?y:t=>t,V=typeof window<"u"&&typeof document<"u",d=V?U(a):null;function z(t,s){const c=q(s);try{d==null||d.setItem(t,h.stringify(c))}catch(f){R(f)}}function x(){function t(o){try{return h.parse(o)}catch(u){S(o,u)}}const s=d==null?void 0:d.getItem(r);if(s==null)return n;const c=t(s);return c==null?n:T(c)}if(!v[a][r]){const t=x(),s=g(t,o=>{if(V&&a=="local"&&P){const u=l=>{if(l.key===r&&l.newValue){let I;try{I=h.parse(l.newValue)}catch(C){S(l.newValue,C);return}const B=T(I);o(B)}};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)}}),{subscribe:c,set:f}=s;v[a][r]={set(o){f(o),z(r,o)},update(o){return s.update(u=>{const l=o(u);return z(r,l),l})},reset(){this.set(n)},subscribe:c}}return v[a][r]}const G=L("suru_token",null,{syncTabs:!0,storage:"local"}),j=g(null),H=J(j,r=>!!r),K=r=>N(r),M=g([]),Q=L("show_completed",!1,{syncTabs:!0,storage:"local"}),X=g(!1);export{M as a,Q as b,X as h,H as l,F as r,K as s,G as t,j as u};
